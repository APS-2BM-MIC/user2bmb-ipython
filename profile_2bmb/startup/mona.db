# file: mona.db
# purpose: provide PVs for MONA modules to advise BlueSky
# to run:  ./run_mona_ioc.sh

record(bo, "mona:StopAcquisition") {
    # MONA module will set this
    # BlueSky will clear this once acquisition has been stopped
    field(DESC, "MONA modules wants scan to end")
    field(ZNAM, "Ok")
    field(ONAM, "Stop")
}

record(ao, "mona:PG3:data_mean_ctr") {
    # number of frames that have failed the verifier
    field(DESC, "PG3 failed frame count")
}

record(ao, "mona:PG3:data_mean_res") {
    # number of frames that have failed the verifier
    field(DESC, "PG3 frame mean value")
}

#The configured quality checks are:
#
#"data" : [ "mean", "st_dev", "stat_mean"]
#
#and therefore the feedback pvs are as follows:
#
#mona:PG3:data_mean_ctr
#mona:PG3:data_mean_res
#
#mona:PG3:data_st_dev_ctr
#mona:PG3:data_st_dev_res
#
#mona:PG3:data_stat_mean_ctr
#mona:PG3:data_stat_mean_res
